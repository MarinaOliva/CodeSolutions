extends ../layouts/main

block contenido
  .card.shadow-sm
    .card-header
      h1.mb-0 #{titulo}

    .card-body
      //- Metadata del reporte
      h6.card-subtitle.mb-2.text-muted Tipo: #{reporte.tipo}
      small.text-muted Fecha de generaciÃ³n: #{new Date(reporte.fechaGeneracion).toLocaleString()}
      
      hr

      if reporte.tipo === 'Horas trabajadas por empleado'
        //- Usar un ListGroup para los empleados
        .list-group
          each emp in reporte.contenido
            .list-group-item
              .d-flex.w-100.justify-content-between
                h5.mb-1 #{emp.nombreEmpleado}
                //- Badge para las horas totales
                span.badge.bg-primary.rounded-pill #{emp.horasRegistradasTotales} horas
              
              if emp.tareas.length > 0
                //- Lista de tareas anidada
                ul.mt-2.mb-0
                  each t in emp.tareas
                    li 
                      | #{t.nombreTarea} - 
                      em.text-muted #{t.horasRegistradas} horas
              else
                p.text-muted.mb-0 No tiene tareas registradas.

      else if reporte.tipo === 'Avance de proyectos'
        //- Usar un ListGroup para los proyectos
        .list-group
          each proy in reporte.contenido
            .list-group-item
              .d-flex.w-100.justify-content-between
                h5.mb-1 #{proy.nombreProyecto}
                span.badge.bg-secondary #{proy.tareasFinalizadas} / #{proy.totalTareas} Tareas
              
              //- Barra de progreso de Bootstrap
              .progress.mt-2(role="progressbar", aria-valuenow=proy.porcentajeAvance, aria-valuemin="0", aria-valuemax="100", style="height: 25px;")
                .progress-bar.progress-bar-striped.progress-bar-animated(
                  style=`width: ${proy.porcentajeAvance}%`
                ) #{proy.porcentajeAvance}%