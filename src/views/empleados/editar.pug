//- Formulario para editar empleado
extends ../layouts/main

block contenido
  .row.justify-content-center
    .col-lg-8

      .card.shadow-sm
        .card-header
          h1 Editar Empleado
        
        .card-body
          if error
            //- Usar la clase de alerta de Bootstrap
            .alert.alert-danger= mensaje

          form(action=`/empleados/editar/${empleado._id}?_method=PUT`, method="POST")
            
            .mb-3
              label.form-label(for="nombre") Nombre:
              input.form-control(type="text", name="nombre", id="nombre", value=empleado.nombre, required)

            .mb-3
              label.form-label(for="email") Email:
              input.form-control(type="email", name="email", id="email", value=empleado.email, required)

            //- Agrupar Rol y Área en una fila
            .row
              .col-md-6.mb-3
                label.form-label(for="rol") Rol:
                select.form-select(name="rol", id="rol")
                  option(value="administrador", selected=empleado.rol==='administrador') Administrador
                  option(value="desarrollador", selected=empleado.rol==='desarrollador') Desarrollador
                  option(value="QA", selected=empleado.rol==='QA') QA
                  option(value="DevOps", selected=empleado.rol==='DevOps') DevOps
                  option(value="soporte", selected=empleado.rol==='soporte') Soporte
                  option(value="contador", selected=empleado.rol==='contador') Contador

              .col-md-6.mb-3
                label.form-label(for="area") Área:
                select.form-select(name="area", id="area")
                  option(value="Desarrollo", selected=empleado.area==='Desarrollo') Desarrollo
                  option(value="Administración", selected=empleado.area==='Administración') Administración
                  option(value="Soporte", selected=empleado.area==='Soporte') Soporte
                  option(value="Contabilidad", selected=empleado.area==='Contabilidad') Contabilidad

            //- Agrupar Especialidad y Habilidades
            .row
              .col-md-6.mb-3
                label.form-label(for="especialidad") Especialidad:
                input.form-control(type="text", name="especialidad", id="especialidad", value=empleado.especialidad)

              .col-md-6.mb-3
                label.form-label(for="habilidades") Habilidades (separadas por coma):
                input.form-control(type="text", name="habilidades", id="habilidades", value=empleado.habilidades ? empleado.habilidades.join(', ') : '')

            hr

            .text-end
              a.btn.btn-secondary.me-2(href="/empleados") Cancelar
              button.btn.btn-primary(type="submit") Guardar cambios