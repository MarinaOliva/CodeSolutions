//- Formulario para crear empleado
extends ../layouts/main

block contenido
  .row.justify-content-center
    .col-lg-8

      .card.shadow-sm
        .card-header
          h1 Nuevo Empleado
        
        .card-body
          if error
            .alert.alert-danger= mensaje

          form(action="/empleados/crear", method="POST")
            
            .mb-3
              label.form-label(for="nombre") Nombre:
              input.form-control(type="text", name="nombre", id="nombre", value=(datos && datos.nombre) || '', required)

            .mb-3
              label.form-label(for="email") Email:
              input.form-control(type="email", name="email", id="email", value=(datos && datos.email) || '', required)

            //- Agrupar Rol y Área en una fila
            .row
              .col-md-6.mb-3
                label.form-label(for="rol") Rol:
                select.form-select(name="rol", id="rol")
                  option(value="administrador", selected=(datos && datos.rol) === 'administrador') Administrador
                  option(value="desarrollador", selected=(datos && datos.rol) === 'desarrollador') Desarrollador
                  option(value="QA", selected=(datos && datos.rol) === 'QA') QA
                  option(value="DevOps", selected=(datos && datos.rol) === 'DevOps') DevOps
                  option(value="soporte", selected=(datos && datos.rol) === 'soporte') Soporte
                  option(value="contador", selected=(datos && datos.rol) === 'contador') Contador

              .col-md-6.mb-3
                label.form-label(for="area") Área:
                select.form-select(name="area", id="area")
                  option(value="Desarrollo", selected=(datos && datos.area) === 'Desarrollo') Desarrollo
                  option(value="Administración", selected=(datos && datos.area) === 'Administración') Administración
                  option(value="Soporte", selected=(datos && datos.area) === 'Soporte') Soporte
                  option(value="Contabilidad", selected=(datos && datos.area) === 'Contabilidad') Contabilidad

            //- Campo Access Role (roles válidos)
            .mb-3
              label.form-label(for="access_role") Nivel de acceso:
              select.form-select(name="access_role", id="access_role")
                option(value="gerente_admin", selected=(datos && datos.access_role) === 'gerente_admin') Gerente administrativo
                option(value="desarrollador", selected=(datos && datos.access_role) === 'desarrollador') Desarrollador
                option(value="soporte", selected=(datos && datos.access_role) === 'soporte') Soporte
                option(value="contador", selected=(datos && datos.access_role) === 'contador') Contador
                option(value="jefe_proyecto", selected=(datos && datos.access_role) === 'jefe_proyecto') Jefe de Proyecto

            //- Agrupar Especialidad y Habilidades
            .row
              .col-md-6.mb-3
                label.form-label(for="especialidad") Especialidad:
                input.form-control(type="text", name="especialidad", id="especialidad", value=(datos && datos.especialidad) || '')

              .col-md-6.mb-3
                label.form-label(for="habilidades") Habilidades (separadas por coma):
                input.form-control(type="text", name="habilidades", id="habilidades", value=(datos && datos.habilidades ? datos.habilidades.join(', ') : ''))

            hr

            .text-end
              a.btn.btn-secondary.me-2(href="/empleados") Cancelar
              button.btn.btn-success(type="submit") Guardar